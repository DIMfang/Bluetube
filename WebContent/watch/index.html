<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Watch</title>
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">
</head>
<body>

    <div class="container-fluid">
    
    <div class="video-container">
		<video id="video" controls autoplay></video>
		<button onClick="onClick()" id="download-video">download the video</button>
		<button onClick="Like();" id="download-video">LIKE</button>
	</div>
	
    </div>
    <script>
        $ = (id) => {
            return document.getElementById(id);
        }
        onClick = () => {
        	var url = "../Download" + document.location.search;
        	var downloadWindow = window.open(url);
        }
        $("video").src = "../Streaming" + document.location.search;
        console.log(document.location);
        
        Like = () => {
        	helper = document.location.search.split("=");
            data = {
            	mediaid: helper[1]
            }
            
        	let configs = {
        		method: 'POST',
        		headers: {
        		  'Content-type':'application/x-www-form-urlencoded'
        		},
            	body: JSON.stringify(data)
        	}
            
            fetch("../Like", configs)
            .then(response => response.json())
            .then(data =>{
            	console.log(data);
            })
        }
    </script>
    <script type="text/javascript" src="../node_modules/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="../node_modules/popper.js/dist/umd/popper.js"></script>
    <script type="text/javascript" src="../node_modules/bootstrap/dist/js/bootstrap.js"></script>
</body>
</html>